(this.webpackJsonpbinder=this.webpackJsonpbinder||[]).push([[0],{36:function(e,t,a){e.exports=a(54)},41:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(15),c=a.n(l),o=(a(41),a(12)),i=a(11),u=a(17),s=a(25),m=a(26),d=a(34),E=a(27),f=a(35),g=a(33),p=function(e){var t=e.error;return r.a.createElement(g.a,{show:!0,variant:"danger"},t)},h=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={showError:!1},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidCatch",value:function(e,t){0}},{key:"render",value:function(){if(this.state.showError){return r.a.createElement(p,{error:"Sorry, something went wrong. Please try again later"})}return this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{showError:!0}}}]),t}(n.Component),b=a(13),v=a(10),O=function(e,t){switch(t.type){case"CARD_LOADING":return Object(v.a)({},e,{loading:!0,error:!1});case"CARD_DETAILS":return Object(v.a)({},e,{loading:!1,error:!1,details:t.details});case"CARD_ERROR":return Object(v.a)({},e,{loading:!1,error:!0,errorMessage:t.details});default:return e}},j=Object(n.createContext)(),y={loading:!1,error:!1,errorMessage:null,details:{}},w=function(e){var t=Object(n.useReducer)(O,y),a=Object(b.a)(t,2),l=a[0],c=a[1];return r.a.createElement(j.Provider,{value:{card:l,dispatch:c}},e.children)},C=function(e,t){switch(t.type){case"TABLE_LOADING":return Object(v.a)({},e,{loading:!0,error:!1});case"TABLE_DETAILS":return Object(v.a)({},e,{loading:!1,error:!1,data:t.data,totalCards:t.totalCards});case"TABLE_ERROR":return Object(v.a)({},e,{loading:!1,error:!0,errorMessage:t.details});case"TABLE_SELECT_PAGE":return Object(v.a)({},e,{currentPage:t.page});default:return e}},_=Object(n.createContext)(),N={loading:!1,error:!1,errorMessage:null,totalCards:0,data:{}},A=function(e){var t=Object(i.g)().page,a=Object(n.useReducer)(C,N,(function(){return{currentPage:t?parseInt(t,10):1}})),l=Object(b.a)(a,2),c=l[0],o=l[1],u=Object(i.f)();return Object(n.useEffect)((function(){u.push("/".concat(c.currentPage)),window.scrollTo(0,0)}),[c.currentPage]),r.a.createElement(_.Provider,{value:{table:c,dispatch:o}},e.children)},R=a(16),k=(a(47),function(){return r.a.createElement("div",{className:"loader"},r.a.createElement(R.a,{animation:"border"})," Loading...")}),L=a(22),x=(a(48),function(e){var t=e.imageUris,a=Object(n.useState)(!0),l=Object(b.a)(a,2),c=l[0],o=l[1],i=t.small,u=t.normal,s=t.large;return r.a.createElement("div",{className:"image"},c?r.a.createElement(R.a,{animation:"border",className:"imageSpinner"}):null,r.a.createElement("img",{srcSet:"".concat(i," 146w, ").concat(u," 680w, ").concat(s," 936w"),sizes:"(max-width: 400px) 146px, (max-width: 1400px) 680px, 936px",src:i,alt:"Card preview",onLoad:function(){o(!1)}}))}),D=(a(49),function(e){var t=e.details,a=Object(i.f)();if(!Object.keys(t).length)return null;var n=t.id,l=t.name,c=t.set_name,o=t.collector_number,s=t.legalities,m=t.set_type,d=t.rarity,E=t.flavor_text,f=t.oracle_text,g=t.image_uris;return r.a.createElement(u.a,{fluid:!0},r.a.createElement("div",{className:"Card"},r.a.createElement(x,{imageUris:g}),r.a.createElement(L.a,{className:"details"},r.a.createElement("h1",null,l),r.a.createElement("hr",null),r.a.createElement("p",{className:"oracle"},f),r.a.createElement("p",{className:"flavor"},E),r.a.createElement("hr",null),r.a.createElement("ul",{className:"legalities"},Object.keys(s).map((function(e){var t=s[e],a=t.replace("_"," ");return r.a.createElement("li",{className:"legalityItem",key:e},r.a.createElement("span",{className:t},a),"\xa0",e)})))),r.a.createElement(L.a,{className:"other"},r.a.createElement("p",null,r.a.createElement("span",{className:"label"},"Card id:")," ",n),r.a.createElement("p",null,r.a.createElement("span",{className:"label"},"Set name:")," ",c),r.a.createElement("p",null,r.a.createElement("span",{className:"label"},"Collector number:")," ",o),r.a.createElement("p",null,r.a.createElement("span",{className:"label"},"Set type:")," ",m),r.a.createElement("p",null,r.a.createElement("span",{className:"label"},"Rarity:")," ",d))),r.a.createElement("button",{className:"backButton",onClick:function(){return a.goBack()}},"Back"))}),S=function(){var e=Object(n.useContext)(j),t=e.card,a=e.dispatch,l=Object(i.g)().id;Object(n.useEffect)((function(){!function(e,t){e({type:"CARD_LOADING"}),fetch("".concat("https://api.scryfall.com","/cards/").concat(t)).then((function(e){if(!e.ok)throw 404===e.status?new Error("Card not found"):new Error("Unable to load card details");return e.json()})).then((function(t){e({type:"CARD_DETAILS",details:t})})).catch((function(t){e({type:"CARD_ERROR",details:t.toString()})}))}(a,l)}),[a,l]);var c=t.loading,o=t.error,u=t.errorMessage,s=t.details;return r.a.createElement("div",null,c?r.a.createElement(k,null):null,o?r.a.createElement(p,{error:u}):null,s?r.a.createElement(D,{details:s}):null)},T=a(31),I=a.n(T),B=function(e){var t=e.row,a=Object(i.f)(),n=t.id,l=t.name,c=t.set_name,o=t.collector_number,u=t.legalities,s=t.set_type,m=t.rarity,d=t.flavor_text,E=t.oracle_text,f=t.image_uris.small;return r.a.createElement("tr",{onClick:function(e){a.push("/card/".concat(t.id))}},r.a.createElement("td",null,n),r.a.createElement("td",null,r.a.createElement("img",{src:f,alt:"Card preview",style:{maxWidth:"100%"}})),r.a.createElement("td",null,l),r.a.createElement("td",null,c),r.a.createElement("td",null,o),r.a.createElement("td",null,Object.values(u).includes("legal")?Object.keys(u).filter((function(e){return"legal"===u[e]})).join(", "):"none"),r.a.createElement("td",null,s),r.a.createElement("td",null,m),r.a.createElement("td",null,d||"none"),r.a.createElement("td",null,E||"none"))},P=a(32),G=(a(52),function(e){var t=e.loading,a=e.data;return r.a.createElement(P.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Id"),r.a.createElement("th",null,"Image"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Set Name"),r.a.createElement("th",null,"Collector Number"),r.a.createElement("th",null,"Legalities"),r.a.createElement("th",null,"Set Type"),r.a.createElement("th",null,"Rarity"),r.a.createElement("th",null,"Flavour"),r.a.createElement("th",null,"Oracle"))),r.a.createElement("tbody",{className:t?"loading":null},a.map((function(e){return r.a.createElement(B,{row:e,key:e.id})}))))}),M=function(){var e=Object(n.useContext)(_),t=e.table,a=e.dispatch,l=Object(i.g)().page;l||(l=1),Object(n.useEffect)((function(){!function(e,t){e({type:"TABLE_LOADING"}),fetch("".concat("https://api.scryfall.com","/cards?page=").concat(t)).then((function(e){if(!e.ok)throw new Error("Unable to load table details");return e.json()})).then((function(t){e({type:"TABLE_DETAILS",data:t.data,totalCards:t.total_cards})})).catch((function(t){e({type:"TABLE_ERROR",details:t.toString()})}))}(a,l)}),[a,l]);var c=t.loading,o=t.error,u=t.errorMessage,s=t.data,m=t.totalCards,d=t.currentPage,E=m?r.a.createElement(I.a,{activePage:d,itemsCountPerPage:175,totalItemsCount:m,pageRangeDisplayed:5,onChange:function(e){a({type:"TABLE_SELECT_PAGE",page:e})},itemClass:"page-item",linkClass:"page-link"}):null;return r.a.createElement("div",{className:"Table"},E,c?r.a.createElement(k,null):null,o?r.a.createElement(p,{error:u}):null,m?r.a.createElement(G,{loading:c,data:s}):null,E)};a(53);var U=function(){return r.a.createElement(o.a,null,r.a.createElement(u.a,{fluid:!0},r.a.createElement(h,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/card/:id"},r.a.createElement(w,null,r.a.createElement(S,null))),r.a.createElement(i.a,{path:"/:page?"},r.a.createElement(A,null,r.a.createElement(M,null)))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[36,1,2]]]);
//# sourceMappingURL=main.f07bbea7.chunk.js.map